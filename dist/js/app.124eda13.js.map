{"version":3,"file":"js/app.124eda13.js","mappings":"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","sources":["webpack://lowcode-visual-editor/./src/App.vue","webpack://lowcode-visual-editor/./src/packages/editor-block.jsx","webpack://lowcode-visual-editor/./src/packages/events.js","webpack://lowcode-visual-editor/./src/packages/useComponentDragger.js","webpack://lowcode-visual-editor/./src/packages/useFocus.js","webpack://lowcode-visual-editor/./src/packages/useBlockDragger.js","webpack://lowcode-visual-editor/./src/packages/useCommand.js","webpack://lowcode-visual-editor/./src/components/DialogForm.jsx","webpack://lowcode-visual-editor/./src/components/DropdownMenu.jsx","webpack://lowcode-visual-editor/./src/packages/editor-operator.jsx","webpack://lowcode-visual-editor/./src/packages/visual-editor.jsx","webpack://lowcode-visual-editor/./src/components/RangeSelector.jsx","webpack://lowcode-visual-editor/./src/utils/editor-config.jsx","webpack://lowcode-visual-editor/./src/App.vue?de3f","webpack://lowcode-visual-editor/./src/main.js","webpack://lowcode-visual-editor/webpack/bootstrap","webpack://lowcode-visual-editor/webpack/runtime/chunk loaded","webpack://lowcode-visual-editor/webpack/runtime/compat get default export","webpack://lowcode-visual-editor/webpack/runtime/define property getters","webpack://lowcode-visual-editor/webpack/runtime/global","webpack://lowcode-visual-editor/webpack/runtime/hasOwnProperty shorthand","webpack://lowcode-visual-editor/webpack/runtime/jsonp chunk loading","webpack://lowcode-visual-editor/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <VisualEditor v-model=\"state\" :formData=\"formData\"></VisualEditor>\n  </div>\n\n</template>\n\n<script>\nimport { provide, ref } from 'vue';\nimport data from './data.json';\nimport VisualEditor from './packages/visual-editor';\nimport {registerConfig as config} from './utils/editor-config';\nimport 'element-plus/dist/index.css';\n\nexport default {\n  components: {\n    VisualEditor\n  },\n  setup() {\n    const state = ref(data);\n\n    provide('config', config); // provide 通信\n\n\n    const formData = ref({\n      username: 'Bao',\n      password: 123123,\n      start: 1,\n      end: 200\n    })\n\n    return {\n      state,\n      formData\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n* {\n  box-sizing: border-box;\n}\n.app {\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  right: 20px;\n  bottom: 20px;\n  // background-color: lightgray;\n}\n</style>\n","import { inject } from \"vue\";\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    block: { type: Object },\r\n    updateIndexBlock: { type: Function },\r\n    index: { type: Number },\r\n    formData: { type: Object }\r\n  },\r\n  setup(props) {\r\n    const blockStyles = computed(() => ({\r\n      top: `${props.block.top}px`,\r\n      left: `${props.block.left}px`,\r\n      zIndex: `${props.block.zIndex}`\r\n    }));\r\n\r\n    const config = inject('config');\r\n\r\n    const blockRef = ref(null);\r\n\r\n    onMounted(() => {\r\n      let { offsetWidth, offsetHeight } = blockRef.value;\r\n      let block = {\r\n        ...props.block,\r\n        width: offsetWidth,\r\n        height: offsetHeight,\r\n      };\r\n      if (props.block.alignCenter) {\r\n        block.left = props.block.left - offsetWidth / 2;\r\n        block.top = props.block.top - offsetHeight / 2;\r\n        block.alignCenter = false;\r\n      }\r\n      // block = Object.assign(props.block, block); // 应该通过事件更新\r\n      // console.log(block);\r\n      props.updateIndexBlock && props.updateIndexBlock(props.index, block);\r\n    })\r\n\r\n    return () => {\r\n      const component = config.componentsMap[props.block.type];\r\n      const RenderComponent = component.render({\r\n        props: props.block.props,\r\n        model: Object.keys(component.model || {}).reduce((prev, modelName) => {\r\n          let propName = props.block.model[modelName];\r\n          const data = props.formData;\r\n          prev[modelName] = {\r\n            modelValue: props.formData[propName],\r\n            \"onUpdate:modelValue\": v => data[propName] = v\r\n          }\r\n          return prev;\r\n        }, {})\r\n      });\r\n      return <div class=\"editor-block\" style={blockStyles.value} ref={blockRef}>\r\n        {RenderComponent}\r\n      </div>\r\n    }\r\n  }\r\n})","import mitt from 'mitt';\r\n\r\nexport const events = mitt();\r\n\r\n// events","import { events } from \"./events\";\r\n\r\nexport function useComponentDragger(containerRef, data) {\r\n  let currentComponent = null;\r\n\r\n  const dragenter = (e) => {\r\n    e.dataTransfer.dropEffect = 'move';\r\n\r\n  }\r\n  const dragover = (e) => {\r\n    e.preventDefault();\r\n  }\r\n  const dragleave = (e) => {\r\n    e.dataTransfer.dropEffect = 'none';\r\n  }\r\n  const drop = (e) => {\r\n    \r\n    let blocks = data.value.blocks;\r\n    data.value = {\r\n      ...data.value,\r\n      blocks: [\r\n        ...blocks,\r\n        {\r\n          top: e.offsetY,\r\n          left: e.offsetX,\r\n          zIndex: 1,\r\n          type: currentComponent.type,\r\n          alignCenter: true,\r\n          props: {},\r\n          model: {}\r\n        }\r\n      ]\r\n    }\r\n    currentComponent = null;\r\n  }\r\n\r\n  const dragstart = (e, component) => {\r\n    containerRef.value.addEventListener('dragenter', dragenter);\r\n    containerRef.value.addEventListener('dragover', dragover);\r\n    containerRef.value.addEventListener('dragleave', dragleave);\r\n    containerRef.value.addEventListener('drop', drop);\r\n    currentComponent = component;\r\n    events.emit('start');\r\n  }\r\n  const dragend = () => {\r\n    containerRef.value.removeEventListener('dragenter', dragenter);\r\n    containerRef.value.removeEventListener('dragover', dragover);\r\n    containerRef.value.removeEventListener('dragleave', dragleave);\r\n    containerRef.value.removeEventListener('drop', drop);\r\n    events.emit('end');\r\n\r\n  }\r\n\r\n  return {\r\n    dragend,\r\n    dragstart\r\n  }\r\n}","import { ref } from 'vue';\r\nimport { computed } from 'vue';\r\n\r\nexport function useFocus(data, previewRef, callback) {\r\n  const selectIndex = ref(-1);\r\n\r\n  const lastSelectedBlock = computed(() => data.value.blocks[selectIndex.value]);\r\n\r\n  const clearBlockFocus = () => {\r\n    data.value.blocks.forEach((block) => block.focus = false)\r\n  }\r\n  const containerMousedown = () => {\r\n    if (previewRef.value) return ;\r\n    clearBlockFocus();\r\n    selectIndex.value = -1;\r\n  }\r\n\r\n  const blockMousedown = (e, block, index) => {\r\n    if (previewRef.value) return ;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.shiftKey) {\r\n      if(focusData.value.focused.length < 2) {\r\n        block.focus = true;\r\n      } else {\r\n        block.focus = !block.focus;\r\n      }\r\n    } else if (!block.focus) {\r\n      clearBlockFocus();\r\n      block.focus = true;\r\n    }\r\n    selectIndex.value = index;\r\n    callback(e);\r\n  }\r\n\r\n  const focusData = computed(() => {\r\n    let focused = [];\r\n    let unfocused = [];\r\n    data.value.blocks.forEach(blcok => (blcok.focus ? focused : unfocused).push(blcok));\r\n    return { focused, unfocused }\r\n  })\r\n\r\n  return {\r\n    blockMousedown,\r\n    containerMousedown,\r\n    clearBlockFocus,\r\n    focusData,\r\n    lastSelectedBlock\r\n  }\r\n}","import { reactive } from \"vue\";\r\nimport { events } from \"./events\";\r\n\r\nexport function useBlockDragger(data, focusData, lastSelectedBlock) {\r\n  let dragState = {\r\n    startX: 0,\r\n    startY: 0,\r\n    dragging: false\r\n  }\r\n\r\n  let markline = reactive({\r\n    x: null,\r\n    y: null\r\n  })\r\n\r\n  const mousemove = (e) => {\r\n    let { clientX: moveX, clientY: moveY } = e;\r\n    if (!dragState.dragging) {\r\n      dragState.dragging = true;\r\n      events.emit('start');\r\n    }\r\n\r\n    let left = moveX - dragState.startX + dragState.startLeft;\r\n    let top = moveY - dragState.startY + dragState.startTop;\r\n    let lineX = null;\r\n    let lineY = null;\r\n    for (let i = 0; i < dragState.lines.y.length; i++) {\r\n      const { top: t, showTop: s } = dragState.lines.y[i];\r\n      if (Math.abs(t - top) < 5) {\r\n        lineY = s;\r\n        moveY = dragState.startY - dragState.startTop + t;\r\n        break;\r\n      }\r\n    }\r\n    for (let i = 0; i < dragState.lines.x.length; i++) {\r\n      const { left: l, showLeft: s } = dragState.lines.x[i];\r\n      if (Math.abs(l - left) < 5) {\r\n        lineX = s;\r\n        moveX = dragState.startX - dragState.startLeft + l;\r\n        break;\r\n      }\r\n    }\r\n    markline.x = lineX;\r\n    markline.y = lineY;\r\n\r\n    let durX = moveX - dragState.startX;\r\n    let durY = moveY - dragState.startY;\r\n    focusData.value.focused.forEach((block, idx) => {\r\n      block.top = dragState.startPos[idx].top + durY;\r\n      block.left = dragState.startPos[idx].left + durX;\r\n    })\r\n  }\r\n\r\n  const mouseup = () => {\r\n    document.removeEventListener('mousemove', mousemove);\r\n    document.removeEventListener('mouseup', mouseup);\r\n    markline.x = null;\r\n    markline.y = null;\r\n    if (dragState.dragging) {\r\n      events.emit('end');\r\n    }\r\n  }\r\n\r\n  const mousedown = (e) => {\r\n    // console.log(lastSelectedBlock.value);\r\n\r\n    const { width: BWidth, height: BHeight } = lastSelectedBlock.value;\r\n    dragState = {\r\n      startX: e.clientX,\r\n      startY: e.clientY,\r\n      startTop: lastSelectedBlock.value.top,\r\n      startLeft: lastSelectedBlock.value.left,\r\n      dragging: false,\r\n      startPos: focusData.value.focused.map(({ top, left }) => ({ top, left })),\r\n      lines: (() => {\r\n        const { unfocused } = focusData.value;\r\n        let lines = { x: [], y: [] };\r\n        [...unfocused,\r\n        {\r\n          top: 0,\r\n          left: 0,\r\n          width: data.value.container.width,\r\n          height: data.value.container.height\r\n        }\r\n        ].forEach((block) => {\r\n          try {\r\n            if (BWidth === null || BHeight === null) throw new ReferenceError('Undefined Block B Size!');\r\n            if (block.width === null || block.height === null || block.top === null || block.left === null) throw new ReferenceError('Undefined Block A Size!');\r\n            const { top: ATop, left: ALeft, width: AWidth, height: AHeight } = block;\r\n            lines.y.push({ showTop: ATop, top: ATop });\r\n            lines.y.push({ showTop: ATop, top: ATop - BHeight });\r\n            lines.y.push({ showTop: ATop + AHeight / 2, top: ATop + AHeight / 2 - BHeight / 2 });\r\n            lines.y.push({ showTop: ATop + AHeight, top: ATop + AHeight });\r\n            lines.y.push({ showTop: ATop + AHeight, top: ATop + AHeight - BHeight });\r\n\r\n            lines.x.push({ showLeft: ALeft, left: ALeft });\r\n            lines.x.push({ showLeft: ALeft + AWidth, left: ALeft + AWidth });\r\n            lines.x.push({ showLeft: ALeft + AWidth / 2, left: ALeft + AWidth / 2 - BWidth / 2 });\r\n            lines.x.push({ showLeft: ALeft + AWidth, left: ALeft + AWidth - BWidth });\r\n            lines.x.push({ showLeft: ALeft, left: ALeft - BWidth });\r\n          } catch (e) {\r\n            console.log(e);\r\n          }\r\n        });\r\n        return lines;\r\n        // console.log(lines)\r\n      })()\r\n    }\r\n    document.addEventListener('mousemove', mousemove);\r\n    document.addEventListener('mouseup', mouseup);\r\n  }\r\n\r\n  return {\r\n    mousedown,\r\n    markline\r\n  }\r\n}","import { events } from \"./events\";\r\nimport deepcopy from 'deepcopy';\r\nimport { onUnmounted } from \"vue\";\r\n\r\nexport function useCommand(data, focusData) {\r\n  const state = {\r\n    current: -1, // index of current state\r\n    opQueue: [], //\r\n    commands: {}, // map of command name to actting function\r\n    commandArray: [],\r\n    destoryArray: []\r\n  }\r\n\r\n  const registry = (command) => {\r\n    state.commandArray.push(command);\r\n    state.commands[command.name] = (...args) => {\r\n      const { redo, undo } = command.execute(...args);\r\n      redo();\r\n      if (!command.pushQueue) {\r\n        return;\r\n      }\r\n\r\n      let { opQueue, current } = state;\r\n\r\n      if (opQueue.length > 0) {\r\n        opQueue.slice(0, current + 1);\r\n        state.opQqueue = opQueue;\r\n      }\r\n      // debugger;\r\n      opQueue.push({ redo, undo });\r\n      state.current = current + 1;\r\n      console.log(opQueue);\r\n    }\r\n  }\r\n\r\n  registry({\r\n    name: 'redo',\r\n    keyboard: 'ctrl+y',\r\n    execute() {\r\n      return {\r\n        redo() {\r\n          let item = state.opQueue[state.current + 1];\r\n          if (item) {\r\n            item.redo && item.redo();\r\n            state.current++;\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  });\r\n  registry({\r\n    name: 'undo',\r\n    keyboard: 'ctrl+z',\r\n    execute() {\r\n      return {\r\n        redo() {\r\n          if (state.current === -1) return;\r\n          let item = state.opQueue[state.current];\r\n          if (item) {\r\n            item.undo && item.undo();\r\n            state.current--;\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  });\r\n  registry({\r\n    name: 'drag',\r\n    pushQueue: true,\r\n    init() {\r\n      this.before = null;\r\n      const start = () => this.before = deepcopy(data.value.blocks);\r\n      const end = () => state.commands.drag();\r\n      events.on('start', start);\r\n      events.on('end', end);\r\n      return () => {\r\n        events.off('start', start);\r\n        events.off('end', end);\r\n      }\r\n    },\r\n    execute() {\r\n      let before = this.before;\r\n      let after = data.value.blocks;\r\n      return {\r\n        redo() {\r\n          data.value = { ...data.value, blocks: after };\r\n        },\r\n        undo() {\r\n          data.value = { ...data.value, blocks: before };\r\n        }\r\n      }\r\n    }\r\n  });\r\n  registry({\r\n    name: 'updateContainer',\r\n    pushQueue: true,\r\n    execute(newValue) {\r\n      let state = {\r\n        before: data.value,\r\n        after: newValue\r\n      }\r\n      return {\r\n        redo: () => {\r\n          data.value = state.after;\r\n        },\r\n        undo: () => {\r\n          data.value = state.before;\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  registry({\r\n    name: 'updateBlock',\r\n    pushQueue: true,\r\n    execute(newBlock, oldBlock) {\r\n      let state = {\r\n        before: data.value.blocks,\r\n        after: (() => {\r\n          let blocks = [...data.value.blocks];\r\n          const index = data.value.blocks.indexOf(oldBlock);\r\n          if (index !== -1) {\r\n            blocks.splice(index, 1, newBlock)\r\n          }\r\n          return blocks;\r\n        })()\r\n      }\r\n      return {\r\n        redo: () => {\r\n          data.value = { ...data.value, blocks: state.after };\r\n        },\r\n        undo: () => {\r\n          data.value = { ...data.value, blocks: state.before };\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  registry({\r\n    name: 'placeTop',\r\n    pushQueue: true,\r\n    execute() {\r\n      let before = deepcopy(data.value.blocks);\r\n      let after = (() => {\r\n        let { focused, unfocused } = focusData.value;\r\n        const maxZIndex = unfocused.reduce((pre, curBlock) => Math.max(pre, curBlock.zIndex), -Infinity) + 1;\r\n        focused.forEach((block) => block.zIndex = maxZIndex);\r\n        return data.value.blocks;\r\n      })();\r\n\r\n      return {\r\n        redo: () => {\r\n          data.value = { ...data.value, blocks: after };\r\n        },\r\n        undo: () => {\r\n          data.value = { ...data.value, blocks: before }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  registry({\r\n    name: 'placeBottom',\r\n    pushQueue: true,\r\n    execute() {\r\n      let before = deepcopy(data.value.blocks);\r\n      let after = (() => {\r\n        let { focused, unfocused } = focusData.value;\r\n        const minZIndex = unfocused.reduce((pre, curBlock) => Math.min(pre, curBlock.zIndex), Infinity) - 1;\r\n\r\n        if (minZIndex < 0) {\r\n          unfocused.forEach((block) => block.zIndex++);\r\n        }\r\n        focused.forEach((block) => block.zIndex = minZIndex < 0 ? 0 : minZIndex);\r\n        return data.value.blocks;\r\n      })();\r\n\r\n      return {\r\n        redo: () => {\r\n          data.value = { ...data.value, blocks: after };\r\n        },\r\n        undo: () => {\r\n          data.value = { ...data.value, blocks: before }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  registry({\r\n    name: 'delete',\r\n    pushQueue: true,\r\n    execute() {\r\n      let before = deepcopy(data.value.blocks);\r\n      let after = focusData.value.unfocused;\r\n      return {\r\n        redo: () => {\r\n          data.value = { ...data.value, blocks: after };\r\n        },\r\n        undo: () => {\r\n          data.value = { ...data.value, blocks: before }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  const KeyboardEvent = (() => {\r\n    const keyCodeMap = {\r\n      89: 'y',\r\n      90: 'z'\r\n    }\r\n    const onKeydown = (e) => {\r\n      const { ctrlKey, keyCode } = e;\r\n      let keyStr = [];\r\n      if (ctrlKey) keyStr.push('ctrl');\r\n      keyStr.push(keyCodeMap[keyCode]);\r\n      keyStr = keyStr.join('+');\r\n\r\n      state.commandArray.forEach(({ keyboard, name }) => {\r\n        if (!keyboard) return;\r\n        if (keyboard === keyStr) {\r\n          state.commands[name]();\r\n          e.preventDefault();\r\n        }\r\n      });\r\n\r\n    }\r\n    const init = () => {\r\n      window.addEventListener('keydown', onKeydown);\r\n      return () => {\r\n        window.removeEventListener('keydown', onKeydown);\r\n      }\r\n    }\r\n    return init;\r\n  })();\r\n\r\n  (() => {\r\n\r\n    state.destoryArray.push(KeyboardEvent())\r\n\r\n    state.commandArray.forEach(command => command.init && state.destoryArray.push(command.init()))\r\n  })();\r\n\r\n  onUnmounted(() => {\r\n    state.destoryArray.forEach(fn => fn && fn());\r\n  });\r\n\r\n  return state;\r\n}","import { ElDialog, ElButton, ElInput } from \"element-plus\";\r\nimport { reactive } from \"vue\";\r\nimport { render } from \"vue\";\r\nimport { createVNode } from \"vue\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nconst DialogComponent = defineComponent({\r\n  props: {\r\n    option: {type: Object}\r\n  },\r\n  setup(props, context) {\r\n    const state = reactive({\r\n      option: props.option,\r\n      isShow: false,\r\n    });\r\n\r\n    context.expose({\r\n      showDialog(option) {\r\n        state.option = option;\r\n        state.isShow = true;\r\n      }\r\n    });\r\n\r\n    const onCancel = () => {\r\n      state.isShow = false;\r\n    }\r\n\r\n    const onConfirm = () => {\r\n      state.isShow = false;\r\n      state.option.onConfirm && state.option.onConfirm(state.option.content);\r\n    }\r\n\r\n    return () => {\r\n      return <ElDialog v-model={state.isShow} title={state.option.title}>\r\n        {{\r\n          default: () => <ElInput\r\n            type=\"textarea\"\r\n            v-model={state.option.content}\r\n            rows={10}\r\n            ></ElInput>,\r\n          footer: () => state.option.footer && <div>\r\n            <ElButton onClick={onCancel}>取消</ElButton>\r\n            <ElButton type=\"primary\" onClick={onConfirm}>确定</ElButton>\r\n          </div>\r\n        }}\r\n      </ElDialog>\r\n    }\r\n  }\r\n});\r\n\r\nlet vm = null;\r\n\r\nexport function $dialog(option) {\r\n  if (!vm) {\r\n    let el = document.createElement('div');\r\n    vm = createVNode(DialogComponent, {option});\r\n    render(vm, el)\r\n    document.body.appendChild(el);\r\n  }\r\n  \r\n\r\n  let {showDialog} = vm.component.exposed;\r\n  showDialog(option);\r\n}","import { reactive } from 'vue';\r\nimport { onMounted } from 'vue';\r\nimport { onBeforeUnmount } from 'vue';\r\nimport { inject } from 'vue';\r\nimport { provide } from 'vue';\r\nimport { ref } from 'vue';\r\nimport { computed } from 'vue';\r\nimport { defineComponent } from 'vue';\r\nimport { createVNode, render } from 'vue';\r\n\r\nexport const DropdownItem = defineComponent({\r\n  props: {\r\n    label: String,\r\n    icon: String,\r\n  },\r\n  setup(props) {\r\n    // const {label, icon} = props;\r\n    const hide = inject('hide');\r\n    return () => <div class=\"dropdown-item\" onClick={hide}>\r\n      <i class={props.icon}></i>\r\n      <span>{props.label}</span>\r\n    </div>\r\n  }\r\n  \r\n})\r\n\r\nconst DropdownComponent = defineComponent({\r\n  props: {\r\n    option: { type: Object },\r\n  },\r\n  setup(props, context) {\r\n    const state = reactive({\r\n      option: props.option,\r\n      isShow: false,\r\n      top: 0,\r\n      left: 0\r\n\r\n    });\r\n    context.expose({\r\n      showDropdown(option) {\r\n        state.option = option;\r\n        state.isShow = true;\r\n        let { top, left, height } = option.el.getBoundingClientRect();\r\n        state.top = top + height;\r\n        state.left = left;\r\n\r\n      }\r\n    });\r\n\r\n    provide('hide', () => {\r\n      state.isShow = false\r\n    });\r\n\r\n    const classes = computed(() => [\r\n      'dropdown', { 'dropdown-isShow': state.isShow }\r\n    ]);\r\n    const styles = computed(() => ({\r\n      top: `${state.top}px`,\r\n      left: `${state.left}px`\r\n    }));\r\n\r\n\r\n    const el = ref(null);\r\n\r\n    const onMousedownDocument = (e) => {\r\n      if (!el.value.contains(e.target)) {\r\n        state.isShow = false;\r\n      }\r\n    };\r\n    \r\n\r\n    onMounted(() => {\r\n      document.body.addEventListener('mousedown', onMousedownDocument, true);\r\n    });\r\n    onBeforeUnmount(() => {\r\n      document.body.removeEventListener('mousedown', onMousedownDocument);\r\n    });\r\n    return () => {\r\n      return <div class={classes.value} style={styles.value} ref={el}>\r\n        {state.option.content()}\r\n      </div>\r\n    };\r\n\r\n  }\r\n});\r\n\r\nlet vm = null;\r\n\r\nexport function $dropdown(option) {\r\n  if (!vm) {\r\n    let el = document.createElement('div');\r\n    vm = createVNode(DropdownComponent, { option });\r\n    render(vm, el)\r\n    document.body.appendChild(el);\r\n  }\r\n\r\n\r\n  let { showDropdown } = vm.component.exposed;\r\n  showDropdown(option);\r\n}","import deepcopy from \"deepcopy\";\r\nimport { ElInput } from \"element-plus\";\r\nimport { ElColorPicker } from \"element-plus\";\r\nimport { ElOption } from \"element-plus\";\r\nimport { ElSelect } from \"element-plus\";\r\nimport { ElForm, ElFormItem, ElButton, ElInputNumber } from \"element-plus\";\r\nimport { watch } from \"vue\";\r\nimport { reactive } from \"vue\";\r\nimport { inject } from \"vue\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    block: {type: Object},\r\n    data: {type: Object},\r\n    updateContainer: {type: Function},\r\n    updateBlock: {type: Function},\r\n  },\r\n  setup(props){\r\n    const config = inject('config');\r\n    const state = reactive({\r\n      editData: {}\r\n    });\r\n    const reset = () => {\r\n      if (!props.block) {\r\n        state.editData = deepcopy(props.data.container);\r\n      } else {\r\n        state.editData = deepcopy(props.block);\r\n        console.log(state.editData.props);\r\n      }\r\n    };\r\n\r\n    const applyChanges = () => {\r\n      if (!props.block) {\r\n        props.updateContainer({...props.data, container: state.editData});\r\n      } else {\r\n        props.updateBlock(state.editData, props.block);\r\n      }\r\n    };\r\n\r\n    watch(()=>props.block, reset, {immediate: true});\r\n\r\n    return () => {\r\n      let content = [];\r\n      if (!props.block) {\r\n        content.push(<>\r\n          <ElFormItem label=\"容器宽度\">\r\n            <ElInputNumber v-model={state.editData.width}></ElInputNumber>\r\n          </ElFormItem>\r\n          <ElFormItem label=\"容器高度\">\r\n            <ElInputNumber v-model={state.editData.height}></ElInputNumber>\r\n          </ElFormItem>\r\n        </>);\r\n      } else {\r\n        const component = config.componentsMap[props.block.type];\r\n        if (component && component.props) {\r\n          content.push(Object\r\n            .entries(component.props)\r\n            .map(([propName, propConfig])=>{\r\n              return <ElFormItem label={propConfig.label}>\r\n                {{\r\n                  input: () => <ElInput v-model={state.editData.props[propName]}></ElInput>,\r\n                  color: () => <ElColorPicker v-model={state.editData.props[propName]}></ElColorPicker>,\r\n                  select: () => <ElSelect v-model={state.editData.props[propName]}>\r\n                    {propConfig.option.map(option => {\r\n                      return <ElOption label={option.label} value={option.value}></ElOption>\r\n                    })}\r\n                  </ElSelect>\r\n\r\n                }[propConfig.type]()}\r\n              </ElFormItem>\r\n            })\r\n          );\r\n        }\r\n        if(component && component.model) {\r\n          content.push(Object\r\n            .entries(component.model)\r\n            .map(([modelName, label]) => {\r\n              return <ElFormItem label={label}>\r\n                <ElInput v-model={state.editData.model[modelName]}></ElInput>\r\n              </ElFormItem>\r\n            })\r\n          );\r\n        }\r\n      }\r\n      \r\n      return (\r\n        <ElForm labelPosition=\"top\" style=\"padding: 30px\">\r\n          {content}\r\n          <ElFormItem>\r\n            <ElButton type=\"primary\" onClick={applyChanges}>应用</ElButton>\r\n            <ElButton onClick={reset}>重置</ElButton>\r\n          </ElFormItem>\r\n        </ElForm>\r\n      );\r\n    }\r\n  }\r\n\r\n})","import { computed } from \"vue\";\r\nimport { inject } from \"vue\";\r\nimport { ref } from \"vue\";\r\nimport { defineComponent } from \"vue\";\r\nimport EditorBlock from \"./editor-block\";\r\nimport './visual-editor.scss';\r\nimport deepcopy from \"deepcopy\";\r\nimport { useComponentDragger } from \"./useComponentDragger\";\r\nimport { useFocus } from \"./useFocus\";\r\nimport { useBlockDragger } from \"./useBlockDragger\";\r\nimport { useCommand } from \"./useCommand\";\r\nimport { $dialog } from \"@/components/DialogForm\";\r\nimport { $dropdown, DropdownItem } from \"@/components/DropdownMenu\";\r\nimport EditorOperator from \"./editor-operator\";\r\nimport { ElButton } from \"element-plus\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    modelValue: { type: Object },\r\n    formData: {type: Object}\r\n  },\r\n  emits: ['update:modelValue'],\r\n  setup(props, context) {\r\n    const previewRef = ref(false);\r\n    const editorRef = ref(true)\r\n\r\n    const data = computed({\r\n      get() {\r\n        return props.modelValue\r\n      },\r\n      set(value) {\r\n        context.emit('update:modelValue', deepcopy(value));\r\n      }\r\n    });\r\n\r\n    const containerStyles = computed(() => ({\r\n      width: `${data.value.container.width}px`,\r\n      height: `${data.value.container.height}px`\r\n    }));\r\n\r\n    const blockUpdateHandler = (index, block) => {\r\n      let blocks = data.value.blocks;\r\n      blocks[index] = block;\r\n      data.value = {\r\n        ...data.value,\r\n        blocks: [\r\n          ...blocks\r\n        ]\r\n      };\r\n    };\r\n\r\n    const config = inject('config');\r\n\r\n    const containerRef = ref(null);\r\n    const { dragstart, dragend } = useComponentDragger(containerRef, data);\r\n    const { blockMousedown, containerMousedown, clearBlockFocus, focusData, lastSelectedBlock } = useFocus(data, previewRef, (e) => mousedown(e));\r\n    const { mousedown, markline } = useBlockDragger(data, focusData, lastSelectedBlock)\r\n\r\n\r\n    const buttons = [\r\n      { label: '撤销', icon: 'icon-back', handler: () => commands.undo() },\r\n      { label: '重做', icon: 'icon-forward', handler: () => commands.redo() },\r\n      {\r\n        label: '导入', icon: 'icon-import', handler: () => {\r\n          $dialog({\r\n            title: '导入 JSON',\r\n            content: '',\r\n            footer: true,\r\n            onConfirm(text) {\r\n              // data.value = JSON.parse(text);\r\n              commands.updateContainer(JSON.parse(text));\r\n            }\r\n          });\r\n\r\n        }\r\n      },\r\n      {\r\n        label: '导出', icon: 'icon-export', handler: () => {\r\n          $dialog({\r\n            title: '导出 JSON',\r\n            content: JSON.stringify(data.value),\r\n            footer: false\r\n          });\r\n        }\r\n      },\r\n      { label: '置顶', icon: 'icon-place-top', handler: () => commands.placeTop() },\r\n      { label: '置底', icon: 'icon-place-bottom', handler: () => commands.placeBottom() },\r\n      { label: '删除', icon: 'icon-delete', handler: () => commands.delete() },\r\n      {\r\n        label: () => previewRef.value ? '编辑' : '预览',\r\n        icon: () => previewRef.value ? 'icon-edit' : 'icon-browse',\r\n        handler: () => {\r\n          previewRef.value = !previewRef.value;\r\n          clearBlockFocus();\r\n        }\r\n      },\r\n      {\r\n        label: '关闭', icon: 'icon-close', handler: () => {\r\n          editorRef.value = false;\r\n          clearBlockFocus();\r\n        }\r\n      },\r\n      {\r\n        label: '保存', icon: 'icon-save', handler: () => {\r\n          alert('保存');\r\n        }\r\n      },\r\n\r\n    ];\r\n\r\n    const { commands } = useCommand(data, focusData);\r\n\r\n    const onContextMenuBlock = (e, block) => {\r\n      e.preventDefault();\r\n      $dropdown({\r\n        el: e.target,\r\n        content: () => {\r\n          return <div>\r\n            <DropdownItem label=\"删除\" icon=\"icon-delete\" onClick={() => commands.delete()}></DropdownItem>\r\n            <DropdownItem label=\"置顶\" icon='icon-place-top' onClick={() => commands.placeTop()}></DropdownItem>\r\n            <DropdownItem label=\"置底\" icon='icon-place-bottom' onClick={() => commands.placeBottom()}></DropdownItem>\r\n            <DropdownItem label=\"查看\" icon='icon-place-browse' onClick={() => {\r\n              $dialog({\r\n                title: '查看组件数据',\r\n                content: JSON.stringify(block)\r\n              })\r\n            }}></DropdownItem>\r\n            <DropdownItem label=\"导入\" icon='icon-place-import' onClick={() => {\r\n              $dialog({\r\n                title: '导入组件数据',\r\n                content: '',\r\n                footer: true,\r\n                onConfirm(text) {\r\n                  text = JSON.parse(text);\r\n                  commands.updateBlock(text, block);\r\n                }\r\n              })\r\n            }}></DropdownItem>\r\n\r\n          </div>\r\n        },\r\n      });\r\n    }\r\n\r\n    return () => !editorRef.value ? <>\r\n      <div\r\n        class=\"editor-container-canvas__content\"\r\n        style={containerStyles.value}\r\n      >\r\n        {\r\n          (data.value.blocks.map((block) => (\r\n            <EditorBlock\r\n              class={'editor-block-preview'}\r\n              block={block}\r\n              formData={props.formData}\r\n            ></EditorBlock>\r\n          )))\r\n        }\r\n      </div>\r\n      <div style=\"position: fixed; top:0; left:0;\">\r\n        <ElButton type=\"info\" onClick={() => editorRef.value = true}>\r\n          返回编辑\r\n        </ElButton>\r\n        {JSON.stringify(props.formData)}\r\n      </div>\r\n    </>\r\n      :\r\n      <div class=\"editor\">\r\n        <div class=\"editor-material\">\r\n          {config.componentsList.map(component => (\r\n            <div\r\n              class=\"editor-material-item\"\r\n              draggable\r\n              onDragstart={e => dragstart(e, component)}\r\n              onDragend={e => dragend(e)}\r\n            >\r\n              <span>{component.label}</span>\r\n              <div>{component.preview()}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div class=\"editor-menu\">\r\n          {buttons.map((btn) => {\r\n            const icon = typeof btn.icon == 'function' ? btn.icon() : btn.icon;\r\n            const label = typeof btn.label == 'function' ? btn.label() : btn.label;\r\n            return <div class=\"editor-menu-button\" onClick={btn.handler}>\r\n              <i class={icon}></i>\r\n              <span>{label}</span>\r\n            </div>\r\n          })}\r\n        </div>\r\n        <div class=\"editor-panel\">\r\n          <EditorOperator\r\n            block={lastSelectedBlock.value}\r\n            data={data.value}\r\n            updateContainer={commands.updateContainer}\r\n            updateBlock={commands.updateBlock}\r\n          ></EditorOperator>\r\n        </div>\r\n        <div class=\"editor-container\">\r\n          <div class=\"editor-container-canvas\">\r\n            <div\r\n              class=\"editor-container-canvas__content\"\r\n              style={containerStyles.value}\r\n              ref={containerRef}\r\n              onMousedown={containerMousedown}\r\n            >\r\n\r\n              {\r\n                (data.value.blocks.map((block, index) => (\r\n                  <EditorBlock\r\n                    class={(block.focus ? 'editor-block-focus' : '') + (previewRef.value ? 'editor-block-preview' : '')}\r\n                    block={block}\r\n                    onMousedown={(e) => blockMousedown(e, block, index)}\r\n                    onContextmenu={(e) => onContextMenuBlock(e, block)}\r\n                    updateIndexBlock={blockUpdateHandler}\r\n                    index={index}\r\n                    formData={props.formData}\r\n                  ></EditorBlock>\r\n                )))\r\n              }\r\n              {markline.x !== null && <div class=\"markline-x\" style={{ left: `${markline.x}px` }}></div>}\r\n              {markline.y !== null && <div class=\"markline-y\" style={{ top: `${markline.y}px` }}></div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  }\r\n})","import { computed } from \"vue\";\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    start: {type: Number},\r\n    end: {type: Number}\r\n  },\r\n  emits: ['update:start', 'update:end'],\r\n  setup(props, context) {\r\n    const start = computed({\r\n      get() {\r\n        return props.start;\r\n      },\r\n      set(val) {\r\n        context.emit('update:start', val);\r\n      }\r\n    });\r\n    const end = computed({\r\n      get() {\r\n        return props.end;\r\n      },\r\n      set(val) {\r\n        context.emit('update:end', val);\r\n      }\r\n    });\r\n\r\n    return () => (<div class=\"range-selector\">\r\n      <input type=\"text\" v-model={start.value}></input>\r\n      <span>~</span>\r\n      <input type=\"text\" v-model={end.value}></input>\r\n    </div>)\r\n\r\n  }\r\n})","import RangeSelector from '@/components/RangeSelector';\r\nimport { ElButton, ElInput} from 'element-plus'\r\n\r\nfunction createComponentsConfig() {\r\n  const componentsList = [];\r\n  const componentsMap = {};\r\n\r\n  return {\r\n    componentsList,\r\n    componentsMap,\r\n    register: (component) => {\r\n      componentsList.push(component);\r\n      componentsMap[component.type] = component;\r\n    }\r\n  };\r\n\r\n}\r\n\r\nexport let registerConfig = createComponentsConfig();\r\n\r\nconst createInputProp = label => ({\r\n  type: 'input',\r\n  label\r\n});\r\nconst createColorProp = label => ({\r\n  type: 'color',\r\n  label\r\n});\r\nconst createSelectProp = (label, option) => ({\r\n  type: 'select',\r\n  label,\r\n  option\r\n})\r\n\r\nconsole.log(registerConfig);\r\n\r\nregisterConfig.register({\r\n  label: '文本',\r\n  preview: () => 'TextArea prewview',\r\n  render: ({props}) => <span style={{color: props.color, fontSize: props.size}}>{props.text || '文本'}</span>,\r\n  type: 'text',\r\n  props: {\r\n    text: createInputProp('输入文本内容'),\r\n    color: createColorProp('字体颜色'),\r\n    size: createSelectProp('字体大小', [\r\n      {label: '12px', value: '12px'},\r\n      {label: '14px', value: '14px'},\r\n      {label: '16px', value: '16px'},\r\n      {label: '18px', value: '18px'},\r\n      {label: '20px', value: '20px'},\r\n      {label: '24px', value: '24px'},\r\n      {label: '28px', value: '28px'}\r\n    ]),\r\n  }\r\n\r\n});\r\nregisterConfig.register({\r\n  label: '按钮',\r\n  preview: () => <ElButton type=\"primary\">Button</ElButton>,\r\n  render: ({props}) => <ElButton type={props.type} size={props.size}>{props.text || '按钮'}</ElButton>,\r\n  type: 'button',\r\n  props: {\r\n    text: createInputProp('输入按钮内容'),\r\n    type: createSelectProp('按钮类型', [\r\n      {label: '基础', value: 'primary'},\r\n      {label: '成功', value: 'success'},\r\n      {label: '警告', value: 'warning'},\r\n      {label: '危险', value: 'danger'},\r\n      {label: '信息', value: 'info'},\r\n    ]),\r\n    size: createSelectProp('按钮尺寸', [\r\n      {label: '中等（默认）', value: 'default'},\r\n      {label: '大', value: 'large'},\r\n      {label: '小', value: 'small'},\r\n      \r\n    ]),\r\n    \r\n  },\r\n});\r\nregisterConfig.register({\r\n  label: '输入',\r\n  preview: () => <ElInput placeholder=\"text\"></ElInput>,\r\n  render: ({model}) => <ElInput placeholder=\"text\" {...model.default}></ElInput>,\r\n  type: 'input',\r\n  model: {\r\n    default: '绑定字段'\r\n  }\r\n});\r\n\r\nregisterConfig.register({\r\n  label: '范围选择器',\r\n  preview: () => <RangeSelector placeholder=\"text\"></RangeSelector>,\r\n  render: ({model}) => {\r\n    console.log(model);\r\n    return <RangeSelector\r\n      {...{\r\n        start:model.start.modelValue,\r\n        end:model.end.modelValue,\r\n        'onUpdate:start': model.start['onUpdate:modelValue'],\r\n        'onUpdate:end': model.end['onUpdate:modelValue'],\r\n      }}\r\n\r\n    ></RangeSelector>\r\n  },\r\n  type: 'range',\r\n  model: {\r\n    start: '开始范围',\r\n    end: '结束范围'\r\n  }\r\n});\r\n\r\n\r\n// registerConfig.register({\r\n//   label: '选项框',\r\n//   preview: () => <Checkbox disabled={true}>Checkbox</Checkbox>,\r\n//   render: () => <Checkbox>Checkbox</Checkbox>,\r\n//   type: 'checkbox'\r\n// });\r\n// registerConfig.register({\r\n//   label: '日期选择框',\r\n//   preview: () => <DatePicker></DatePicker>,\r\n//   render: () => <DatePicker></DatePicker>,\r\n//   type: 'datepicker'\r\n// });\r\n// registerConfig.register({\r\n//   label: '图片',\r\n//   preview: () => <FileImageOutlined style={{width:50}}/>,\r\n//   render: () => <Image src=\"\" height=\"100px\" alt=\"img\" fallback=\"data:image/png;base64,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\"\r\n//   ></Image>,\r\n//   type: 'image'\r\n// });\r\n// registerConfig.register({\r\n//   label: '视频',\r\n//   preview: () => <VideoCameraOutlined style={{width:\"100%\", height:\"100%\"}}/>,\r\n//   render: () => <video src=\"\" controls=\"controls\"></video>,\r\n//   type: 'video'\r\n// });","import { render } from \"./App.vue?vue&type=template&id=101b359c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=101b359c&lang=scss\"\n\nimport exportComponent from \"D:\\\\Vue-Editor\\\\lowcode-visual-editor\\\\node_modules\\\\.pnpm\\\\vue-loader@17.0.0_webpack@5.74.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklowcode_visual_editor\"] = self[\"webpackChunklowcode_visual_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9336); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_createVNode","_component_VisualEditor","$setup","$event","formData","defineComponent","props","block","type","Object","updateIndexBlock","Function","index","Number","setup","blockStyles","computed","top","left","zIndex","config","inject","blockRef","ref","onMounted","offsetWidth","offsetHeight","value","width","height","alignCenter","component","componentsMap","RenderComponent","render","model","keys","reduce","prev","modelName","propName","data","modelValue","v","events","mitt","useComponentDragger","containerRef","currentComponent","dragenter","e","dataTransfer","dropEffect","dragover","preventDefault","dragleave","drop","blocks","offsetY","offsetX","dragstart","addEventListener","emit","dragend","removeEventListener","useFocus","previewRef","callback","selectIndex","lastSelectedBlock","clearBlockFocus","forEach","focus","containerMousedown","blockMousedown","stopPropagation","shiftKey","focusData","focused","length","unfocused","blcok","push","useBlockDragger","dragState","startX","startY","dragging","markline","reactive","x","y","mousemove","clientX","moveX","clientY","moveY","startLeft","startTop","lineX","lineY","i","lines","t","showTop","s","Math","abs","l","showLeft","durX","durY","idx","startPos","mouseup","document","mousedown","BWidth","BHeight","map","container","ReferenceError","ATop","ALeft","AWidth","AHeight","console","log","useCommand","state","current","opQueue","commands","commandArray","destoryArray","registry","command","name","args","redo","undo","execute","pushQueue","slice","opQqueue","keyboard","item","init","this","before","start","deepcopy","end","drag","on","off","after","newValue","newBlock","oldBlock","indexOf","splice","maxZIndex","pre","curBlock","max","Infinity","minZIndex","min","KeyboardEvent","keyCodeMap","onKeydown","ctrlKey","keyCode","keyStr","join","window","onUnmounted","fn","DialogComponent","option","context","isShow","expose","showDialog","onCancel","onConfirm","content","title","default","footer","vm","$dialog","el","createElement","createVNode","body","appendChild","exposed","DropdownItem","label","String","icon","hide","DropdownComponent","showDropdown","getBoundingClientRect","provide","classes","styles","onMousedownDocument","contains","target","onBeforeUnmount","$dropdown","updateContainer","updateBlock","editData","reset","applyChanges","watch","immediate","entries","propConfig","input","color","select","emits","editorRef","get","set","containerStyles","blockUpdateHandler","buttons","handler","text","JSON","parse","stringify","placeTop","placeBottom","delete","alert","onContextMenuBlock","componentsList","preview","btn","val","createComponentsConfig","register","registerConfig","createInputProp","createColorProp","createSelectProp","fontSize","size","components","VisualEditor","username","password","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","priority","notFulfilled","fulfilled","j","every","key","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}